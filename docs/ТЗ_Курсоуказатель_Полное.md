# ТЕХНИЧЕСКОЕ ЗАДАНИЕ
# Мобильное приложение «КУРСОУКАЗАТЕЛЬ» для управления сельскохозяйственной техникой

**Версия документа:** 1.0 (полная, расширенная)  
**Назначение:** Для нейросети, создающей программный код.  
**Требование:** Прочитать ВСЁ задание полностью перед началом работы. Каждое требование важно. Не пропускать разделы. При неясности — выбирать самое простое решение.

---

## КРИТИЧЕСКОЕ ПРЕДУПРЕЖДЕНИЕ

Это задание предназначено для нейросети с ограниченными возможностями. Формулировки максимально явные и однозначные. Не интерпретировать требования творчески — выполнять БУКВАЛЬНО.

---

# РАЗДЕЛ 1. ОПИСАНИЕ ПРОЕКТА (ЧТО НУЖНО СДЕЛАТЬ)

## 1.1 Общая концепция

Необходимо создать **мобильное приложение** для устройств Android (телефоны и планшеты). Приложение помогает водителю трактора ехать строго по прямой линии во время полевых работ.

### Как это работает (пошагово)

1. Водитель приезжает на поле.
2. Ставит технику в начале поля, **нажимает кнопку «Точка А»**. Приложение записывает текущие координаты как точку А.
3. Проезжает до конца поля, **нажимает «Точка Б»**. Приложение записывает текущие координаты как точку Б.
4. Приложение запоминает линию от А до Б (AB-линия).
5. При движении обратно приложение вычисляет отклонение текущей позиции от этой прямой и показывает:
   - «Ты отклонился вправо на 0,5 метра»;
   - «Ты отклонился влево на 0,2 метра»;
   - «Ты едешь точно по линии».
6. Перед запуском записи водитель задаёт ширину захвата транспорта/агрегата (в метрах).
7. Водитель смотрит на экран и крутит руль, чтобы держать отклонение минимальным.

### Зачем это нужно

Без курсоуказателя тракторист едет криво. Возникают:
- **пропуски** — необработанные полосы;
- **перекрытия** — дважды обработанные участки.

Следствие: потери денег, семян, удобрений.

### Дополнительная задача (обязательная)

Механизатор должен **видеть на экране**, где он уже проехал, а где ещё нет. Трек отображается в виде **полосы** шириной, равной ширине захвата, чтобы не было пропусков и перекрытий.

---

## 1.2 Главная задача для нейросети

Нейросеть должна написать **полностью рабочее** приложение: весь код, все файлы, все настройки. Человек открывает проект в среде разработки, нажимает «запустить» и получает работающее приложение на телефоне.

---

## 1.3 Ключевые требования (неизменяемые)

| № | Требование | Описание |
|---|------------|----------|
| 1 | **Без интернета** | Приложение работает полностью в офлайн-режиме. В поле связи нет. |
| 2 | **Только GPS** | Использовать GPS телефона. Внешний GPS — по желанию, если несложно. |
| 3 | **Понятный интерфейс** | Экран должен быть понятен пожилому трактористу: крупные цифры, яркие цвета, минимум текста. |
| 4 | **Единицы — метры** | Отклонение в МЕТРАХ. Не футы, не градусы. |
| 5 | **Знак отклонения** | Отрицательное значение = влево, положительное = вправо, ноль = идеально. |
| 6 | **Точность** | Все расчёты — до 2 знаков после запятой (например: 0,23 м). |
| 7 | **Двойная точность** | Координаты — 6 знаков после запятой. Расстояние и площадь — не округлять до целых при расчётах. |
| 8 | **Трек — полоса** | Трек отображается не линией, а **полосой** шириной, равной ширине захвата. |
| 9 | **Офлайн-карта** | Карта не должна требовать интернет. Использовать кэширование или простую сетку координат. |

---

# РАЗДЕЛ 2. ФУНКЦИОНАЛЬНЫЕ ТРЕБОВАНИЯ

## 2.1 Экран №1: Главный экран (рабочий экран / курсоуказатель)

Это основной экран. Водитель использует его большую часть времени.

### Обязательные элементы

#### A. Индикатор отклонения (приоритет №1)

- Горизонтальная полоса/шкала.
- **Середина** — зелёная зона (отклонение от 0 ± 0,1 м).
- **Левая часть** — красная (отклонение влево).
- **Правая часть** — красная (отклонение вправо).
- По шкале движется ползунок/маркер, показывающий текущее отклонение.
- **Минимальный размер:** шкала занимает не менее 30% ширины экрана.

#### B. Цифровое значение отклонения

- Крупный шрифт: **не менее 80 единиц** (sp или эквивалент).
- Цвет по величине отклонения:
  - **Зелёный:** |отклонение| < 0,1 м
  - **Жёлтый:** 0,1 м ≤ |отклонение| < 0,3 м
  - **Красный:** |отклонение| ≥ 0,3 м
- Знак «минус» перед числом при отклонении влево.
- Единица измерения «м» после числа.
- Пример отображения: `-0,23 м` или `0,47 м`.

#### C. Информация о спутниках

- Количество спутников (число).
- Индикатор точности GPS: HDOP или «Точность: X.X м».

#### D. Текущая AB-линия

- Название активной линии (если есть).
- Кнопка «Создать новую линию» → экран создания линии.
- Кнопка «Выбрать линию» → экран списка линий.

#### E. Кнопка «Старт/Стоп записи трека»

- **Включено:** приложение сохраняет путь техники.
- **Выключено:** только показывает отклонение, трек не сохраняет.
- Визуальная индикация: мигающая красная точка при активной записи.

#### F. Компас или направление движения

- Стрелка направления относительно севера или текст: «Курс: 45°».

#### G. Карта (обязательно)

- Занимает **не менее 40% экрана**.
- Показывает: AB-линию, текущую позицию, обработанную полосу трека.
- На карте должна быть явно видна текущая **ширина штанги/агрегата** (контур/линия штанги или эквивалентный визуальный элемент в масштабе).
- См. раздел 11.

#### H. Расчёт пути и площади

- **Пройденный путь:** в километрах, 2 знака после запятой (например: 11,73 км).
- **Обработанная площадь:** в гектарах, 3 знака после запятой (например: 2,345 га).
- Обновление в реальном времени при включённой записи трека.

#### K. Настройка ширины захвата до запуска работы

- До нажатия «Старт записи» пользователь должен иметь возможность задать/изменить ширину захвата транспорта (в метрах).
- Значение ширины применяется сразу к расчёту площади и к визуализации полосы трека.
- Если ширина не задана, запуск записи запрещён, показывается понятная подсказка.

#### I. Процент выполнения (если известна площадь поля)

- Крупно: «47%».
- Прогресс-бар.

#### J. Расположение элементов (рекомендуемое)

- **Верх (примерно 30% экрана):** слева — спутники/точность; по центру — название линии; справа — время.
- **Центр (примерно 50%):** большое число отклонения; под ним — шкала; подписи «ВЛЕВО» и «ВПРАВО».
- **Низ (примерно 20%):** кнопки управления, доп. информация (курс, скорость).
- Карта — отдельная область или фон, не менее 40% общего экрана.

---

## 2.2 Экран №2: Создание AB-линии

Экран для создания новой линии.

### Последовательность действий

1. Нажатие «Точка А» → запись текущих GPS-координат как точка А.
2. Водитель едет по полю (от нескольких секунд до минут).
3. Нажатие «Точка Б» → запись текущих GPS-координат как точка Б.
4. Поле ввода: «Введите название линии».
5. Поле ввода: «Введите ширину захвата транспорта/агрегата в метрах» (число).
6. Кнопка «СОХРАНИТЬ».

### Требования

- Между А и Б может пройти от 10 секунд до 10 минут — приложение ожидает.
- Кнопка «Отменить» или «Сбросить» — если точка А уже установлена, но пользователь передумал.

---

## 2.3 Экран №3: Список сохранённых линий

Список всех созданных линий.

### Для каждой линии показывать

- Название
- Дата создания
- Ширина междурядья
- Длина линии (по координатам А и Б)

### Действия

- **Короткое нажатие** — выбрать линию и вернуться на главный экран.
- **Долгое нажатие** — удалить с подтверждением («Точно удалить?»).
- **Редактирование** — изменить название и/или ширину.

---

## 2.4 Экран №4: История работ

Список завершённых сессий.

### Для каждой записи

- Дата
- Название поля/линии
- Продолжительность работы
- Пройденное расстояние (км или м)
- Обработанная площадь (га): ширина междурядья × пройденный путь

---

# РАЗДЕЛ 3. ТЕХНИЧЕСКИЕ ТРЕБОВАНИЯ

## 3.1 Работа с GPS

### Частота обновления

- Координаты — **каждую секунду** (1 Гц) или чаще, если устройство позволяет.

### Точность

- Запрашивать максимальную доступную точность.
- Использовать все доступные спутниковые системы (GPS, ГЛОНАСС и др.).
- **Не использовать** Wi‑Fi и сотовые вышки — только спутники.

### Фильтрация точек

| Условие | Действие |
|---------|----------|
| Точность хуже 5 м | Игнорировать точку |
| Скорость < 0,1 км/ч | Считать, что техника стоит |
| Прошло > 3 с с момента получения координаты | Не использовать точку |
| Скачок позиции > 10 м за 1 с | Игнорировать (невозможная скорость) |
| «Дрожание» при стоящей технике | Не рисовать трек при скорости < 0,5 км/ч |

### Дополнительная обработка

- **Интерполяция:** при потере GPS на 2–3 с продолжать трек с учётом прежней скорости и курса.
- **Сглаживание:** использовать среднее по последним 3–5 точкам, чтобы не дёргать карту.

---

## 3.2 Расчёт отклонения от AB-линии

### Входные данные

- Точка А: lat_A, lon_A
- Точка Б: lat_B, lon_B
- Текущая позиция: lat_P, lon_P

### Алгоритм (пошагово)

1. **Преобразовать координаты в метры** (использовать формулы гаверсинуса или проекцию на плоскость; для небольших расстояний можно упростить).
2. **Найти вектор направления** от А к Б: `dir = (lat_B - lat_A, lon_B - lon_A)`.
3. **Нормализовать** вектор направления.
4. **Вектор от А к текущей позиции**: `toP = (lat_P - lat_A, lon_P - lon_A)`.
5. **Расстояние до прямой** = длина проекции `toP` на перпендикуляр к `dir`, или:
   - Расстояние от точки P до прямой через A и B = |(AP × AB)| / |AB| (векторное произведение).
6. **Знак:** определить, с какой стороны от прямой находится точка P. Если P справа от направления А→Б — положительное, слева — отрицательное (или наоборот, главное — согласованность).
7. **Учесть направление движения:** если техника едет от Б к А, инвертировать знак.
8. **Округлить** до 2 знаков после запятой.

### Упрощённая формула (псевдокод)

```
// Расстояние от точки P до прямой A-B в метрах
distance = |cross_product(AP, AB)| / length(AB)
// cross_product и length — в метрах (с учётом перевода lat/lon в метры)
// sign = +1 если P справа от A→B, -1 если слева
deviation = sign * distance
// Если движение от B к A — deviation = -deviation
```

### Направление движения

- Если едет от А к Б — отклонение считается одним способом.
- Если от Б к А — знак отклонения противоположный (чтобы право/лево не перепутались).

---

## 3.3 Сохранение данных

Данные должны сохраняться между перезапусками приложения.

### AB-линии (структура данных)

- Уникальный ID (авто)
- Название (текст)
- Дата создания (дата и время)
- Широта точки А
- Долгота точки А
- Широта точки Б
- Долгота точки Б
- Ширина междурядья (м)

### История сессий

- Уникальный ID
- ID использованной линии
- Дата и время начала
- Дата и время окончания
- Список точек маршрута (массив координат с временными метками)

### Настройки (по возможности)

- Единицы измерения (только метры)
- Резервная копия (вкл/выкл)
- Режим отображения (дневной/ночной)

---

## 3.4 Обработка ошибок

Приложение не должно завершаться аварийно («вылетать»).

| Ситуация | Действие |
|----------|----------|
| Нет GPS | Показать на весь экран: «НЕТ СИГНАЛА GPS»; скрыть цифры или показать «---»; запретить создание линий и запись трека |
| Потеряна выбранная линия | Сообщение: «Линия не найдена. Выберите другую»; открыть экран списка линий |
| Нет прав на геолокацию | При первом запуске — запрос прав; при отказе — кнопка «Настройки» для перехода в системные настройки |

---

# РАЗДЕЛ 4. ИНТЕРФЕЙС И УДОБСТВО ИСПОЛЬЗОВАНИЯ

## 4.1 Цветовая схема

| Элемент | Цвет | Пример (hex) |
|---------|------|--------------|
| Фон | Тёмно-серый или чёрный | — |
| Текст | Белый или ярко-зелёный | — |
| Акцент (кнопки, рамки) | Зелёный или синий | #4CAF50, #2196F3 |
| Опасность, отклонение | Красный | #F44336 |
| Предупреждение | Жёлтый | #FFC107 |

- Высокий контраст, без пастельных тонов и сложных градиентов.
- Тёмная тема — для экономии батареи на AMOLED.

## 4.2 Размеры

| Элемент | Минимум |
|---------|---------|
| Главное число (отклонение) | 80–120 единиц |
| Заголовки | 24–30 |
| Обычный текст | 18–20 |
| Вспомогательный текст | 14–16 |
| Область нажатия кнопки | 48×48 (лучше 56×56) |
| Кнопки на главном экране | минимум 60×60 |

## 4.3 Ориентация и экраны

- Поддержка вертикальной и горизонтальной ориентации.
- Горизонтальная ориентация — приоритет для кабины трактора.
- Шкала отклонения на всю ширину экрана.
- Корректное отображение на экранах от ~5" до ~10".

---

# РАЗДЕЛ 5. ВИЗУАЛИЗАЦИЯ ОБРАБОТАННЫХ УЧАСТКОВ И РАСЧЁТ ПУТИ

## 5.1 Общая концепция

Механизатор должен видеть:
- где он уже проехал;
- где ещё не проехал.

При включённой записи трек рисуется как **полоса** шириной, равной ширине захвата.

### Режимы отображения полосы

```
    ─────────────────────► Направление движения
    ┌────────────────────┐
    │████████████████████│  ← Закрашенная полоса (ширина захвата)
    └────────────────────┘
```

## 5.2 Визуальные требования к полосе

| Требование | Описание |
|------------|----------|
| Цвет заливки | Полупрозрачный жёлтый (30–40% прозрачности), например #FFEB3B |
| Граница | Тонкая белая или чёрная линия по краям |
| Центральная линия | Пунктирная линия по центру полосы |
| Текущая позиция | Яркий маркер (например, синий круг) в месте техники |
| «Хвост» | Показ последних точек трека (например, за 10 с) |
| Ширина штанги/агрегата | На карте визуально показывается фактическая ширина штанги/агрегата (масштабно, в метрах) |

## 5.3 Обязательные элементы на карте

- **AB-линия:** жирная жёлтая линия от А до Б.
- **Параллели:** тонкие пунктирные линии через каждую ширину захвата.
- **Текущая позиция:** маркер.
- **Обработанная полоса:** закрашенная область.

## 5.4 Расчёт расстояния

**Формула:**  
`Общий путь = сумма расстояний между последовательными точками трека`

**Для каждой пары соседних точек:** использовать формулу гаверсинуса или упрощение для малых расстояний. Расстояние в метрах между (lat1, lon1) и (lat2, lon2):
```
R = 6371000  // радиус Земли в метрах
dLat = (lat2-lat1) * π/180
dLon = (lon2-lon1) * π/180
a = sin(dLat/2)² + cos(lat1) * cos(lat2) * sin(dLon/2)²
c = 2 * atan2(√a, √(1-a))
distance = R * c
```

- Считать путь **только** при включённой записи трека.
- Учитывать точки **только** при скорости > 0,5 км/ч.
- При остановке расстояние не увеличивать.
- При новой сессии — обнулять.
- Отображать в **километрах**, 2 знака после запятой.

## 5.5 Расчёт площади

**Формула:**  
`Площадь (га) = (Путь в метрах × Ширина захвата в метрах) / 10000`

- 1 га = 10 000 м².
- Обновлять в реальном времени.
- Отображать в **гектарах**, 3 знака после запятой (0,000 га).
- Обнулять при новой сессии.

## 5.6 Процент выполнения

При известной общей площади поля:

`% выполнения = (Текущая площадь / Общая площадь поля) × 100`

- Отображать крупно: «47%».
- Прогресс-бар.
- При 100% — уведомление и звуковой сигнал (опционально).

## 5.7 Работа с пропусками и перекрытиями

### Пропуск

- Если расстояние между проходами > (ширина захвата + 0,2 м) — считать пропуск.
- Подсветка области красным.
- Звуковой сигнал: «Внимание, пропуск слева!» (опционально).

### Перекрытие

- Если расстояние < (ширина захвата − 0,1 м) — перекрытие.
- Подсветка жёлтым.
- Сообщение: «Перекрытие 0,3 метра» (опционально).

## 5.8 Управление картой

- Масштаб: жест «щипок» и/или кнопки «+» / «−».
- Перемещение: перетаскивание.
- Кнопка «Найти меня» / «Следовать за трактором» — центрирование на текущей позиции.
- **Режим следования:** при включённом следовании за транспортом угол поворота камеры карты должен быть равен углу курса (heading) транспорта. То есть на экране техника всегда «смотрит вверх», направление движения вверх.
- Переключение слоёв: трек, AB-линии, сетка параллелей.

## 5.9 Требования к производительности

Приложение **не должно**:
- тормозить при длинных треках (10 000+ точек);
- расходовать всю доступную память;
- сильно разряжать батарею за 2 часа;
- перегревать устройство.

**Рекомендации:**
- Хранить трек в базе данных, а не только в памяти.
- Рисовать только видимую область карты.
- Упрощать трек (объединять близкие точки).
- Ограничивать или архивировать старую историю.

---

# РАЗДЕЛ 6. РАСШИРЕННЫЙ ФУНКЦИОНАЛ (по возможности)

- Карта (OpenStreetMap или сетка).
- Голосовые подсказки при отклонении > 0,3 м.
- Ночной режим.
- Экспорт в GPX, CSV, KML.
- Отправка отчётов (email, мессенджеры).

## 6.1 Управление клавиатурой (демо-режим)

При включённом демо-режиме на платформах с клавиатурой (веб, десктоп) доступно управление трактором:

- **Клавиши:** стрелки ↑↓←→ или WASD (вперёд, назад, влево, вправо).
- **Режим удержания:** клавиша должна **удерживаться** — движение/поворот продолжается, пока клавиша нажата. При отпускании — остановка. Не допускается режим «один прожим = одно действие».
- **Техническое правило обработки:** `keyDown`/`keyRepeat` = состояние «нажато», `keyUp` = состояние «отпущено».
- **Назначение:** тестирование без выезда в поле, удобство отладки.

---

# РАЗДЕЛ 7. ПРОВЕРКА РАБОТОСПОСОБНОСТИ

## 7.1 Обязательные проверки

- Компиляция и установка без ошибок.
- Запуск без падения.
- Запрос прав на геолокацию при первом запуске.
- Создание линии: А → проезд → Б → название → сохранение.
- Выбор линии, отображение отклонения, движение шкалы.
- Сохранение после перезапуска.
- Удаление линии без падения приложения.

## 7.2 Тесты трека

- Прямая линия: трек совпадает с AB-линией, площадь = ширина × длина.
- Поворот: при развороте новая полоса начинается с новой позиции.
- Перезапуск: трек и площадь сохраняются.
- Потеря GPS: показ «Нет сигнала», при восстановлении — продолжение трека.
- 5000+ точек: приложение остаётся отзывчивым.

## 7.3 Запрещённое

- Падение при любых действиях.
- Отсутствие обновления главного числа отклонения.
- Сильные тормоза.
- Наложение текста и элементов.
- Зависимость от интернета.
- Нечитаемый интерфейс для тракториста.

---

# РАЗДЕЛ 8. ТРЕБОВАНИЯ К КОДУ

## 8.1 Читаемость

- Комментарии к сложным блокам.
- Понятные имена переменных (не a, b, c).
- Структура проекта: экраны, база данных, GPS, расчёты, модели.

## 8.2 Надёжность

- Проверка на null.
- Обработка исключений (try/catch) в критичных местах.
- Тяжёлые операции — не в основном потоке UI.

## 8.3 Энергопотребление

- Отключение GPS при уходе приложения в фон.
- Ограничение частоты перерисовки (1–2 раза в секунду достаточно).

---

# РАЗДЕЛ 9. ОГРАНИЧЕНИЯ (ЧЕГО НЕ ДЕЛАТЬ)

- Не использовать сложное машинное обучение.
- Не требовать интернет.
- Не делать тяжёлую 3D-графику и сложные анимации.
- Не жёстко привязывать к одной модели устройства.
- Не добавлять рекламу, платные подписки, сбор аналитики.

---

# РАЗДЕЛ 10. ЭКСПОРТ И ОТЧЁТЫ

## 10.1 Форматы экспорта

- **GPX** — стандартный формат треков.
- **CSV** — таблица: время, широта, долгота, скорость, курс, отклонение.
- **KML** — для Google Earth.
- Изображение карты — кнопка «Поделиться».

## 10.2 Данные в отчёте

- Дата и время начала/окончания.
- Продолжительность.
- Пройденное расстояние (км).
- Обработанная площадь (га).
- Средняя и максимальная скорость.
- ID техники, механизатора, поле/культура (если вводились).

---

# РАЗДЕЛ 11. ФИНАЛЬНЫЙ КОНТРОЛЬНЫЙ СПИСОК

Перед завершением реализации проверить:

- [ ] Механизатор видит на карте, где проехал (полоса).
- [ ] Ширина полосы = ширине захвата.
- [ ] До старта записи можно задать/изменить ширину захвата транспорта.
- [ ] На карте явно видна ширина штанги/агрегата.
- [ ] Считается пройденное расстояние.
- [ ] Считается обработанная площадь.
- [ ] Трек сохраняется после завершения работы.
- [ ] Можно открыть старый трек.
- [ ] Можно экспортировать трек.
- [ ] Данные сохраняются после перезапуска.
- [ ] Нет падений при длительной работе.
- [ ] Карту можно перемещать и масштабировать.
- [ ] Есть кнопка «Вернуться на мою позицию».

---

# РАЗДЕЛ 12. ПРИМЕРЫ ПОЛЬЗОВАТЕЛЕЙ

**Иван Петрович, 62 года** — крупные цифры, понятные цвета, красное = рулить.

**Алексей, 35 лет** — учёт, экспорт, история по полям.

**Наёмный водитель** — быстрое создание линий, простота.

---

# ЗАКЛЮЧЕНИЕ

При неясности по реализации — делать **максимально простой рабочий** вариант.  
Лучше простой и работающий код, чем сложный и сломанный.

---

# ПРИЛОЖЕНИЕ А. ШПАРГАЛКА ДЛЯ НЕЙРОСЕТИ (краткий чеклист)

Если нейросеть «тупая» — выполнять ТОЛЬКО этот список, по порядку:

1. **Приложение** — мобильное, Android, без интернета.
2. **Экран 1:** Шкала отклонения (зелёная середина, красные края) + число в метрах (минус = влево, плюс = вправо).
3. **Экран 1:** Число отклонения — шрифт 80+, зелёный если <0,1 м, жёлтый 0,1–0,3 м, красный >0,3 м.
4. **Экран 1:** Количество спутников, точность GPS.
5. **Экран 1:** Кнопки «Новая линия», «Выбрать линию», «Старт/Стоп записи».
6. **Экран 1:** Компас или курс в градусах.
7. **Экран 1:** Карта с AB-линией, текущей позицией, полосой трека (ширина = ширина захвата).
8. **Экран 1:** Путь (км), площадь (га), обновление в реальном времени.
9. **Экран 2:** Кнопка «Точка А» → записать GPS. Кнопка «Точка Б» → записать GPS. Поля: название, ширина захвата транспорта/агрегата. Кнопка «Сохранить».
10. **Экран 3:** Список линий. Нажатие — выбрать. Долгое нажатие — удалить. Редактирование.
11. **Экран 4:** История сессий: дата, название, длительность, путь, площадь.
12. **GPS:** Обновление 1 раз в секунду, точность <5 м, фильтровать стоячую технику (<0,5 км/ч).
13. **Отклонение:** По прямой А–Б, расстояние в метрах, знак зависит от направления движения.
14. **Трек:** Полоса, не линия. Заливка жёлтым, ширина = ширина захвата.
15. **Путь:** Сумма расстояний между точками при скорости >0,5 км/ч.
16. **Площадь:** Путь (м) × Ширина (м) / 10000 = га.
17. **Сохранение:** Все данные в локальную БД, переживают перезапуск.
18. **Ошибки:** Нет GPS → «НЕТ СИГНАЛА GPS», не падать.
19. **Цвета:** Тёмный фон, белый/зелёный текст, красный для отклонения.
20. **Кнопки:** Минимум 48×48, лучше 60×60.
21. **Клавиатура (демо):** Удержание клавиш (стрелки/WASD) — движение пока нажато; не «один прожим = одно действие». Технически: `keyDown`/`keyRepeat` = нажато, `keyUp` = отпущено.
22. **Режим следования:** При включённом следовании за транспортом угол камеры = угол курса (heading).
23. **Перед стартом работы:** Можно задать/изменить ширину захвата; без ширины запуск записи запрещён.
24. **Карта:** Видна ширина штанги/агрегата как отдельный визуальный элемент в масштабе.

---

# ПРИЛОЖЕНИЕ Б. ФОРМАТ ОТВЕТА (рекомендуемая структура проекта)

Любая технология (Flutter, Kotlin, React Native и т.д.) — главное, чтобы проект собирался и запускался.

```
ProjectRoot/
├── [исходный код приложения]
├── [конфигурационные файлы]
├── [манифесты, разрешения]
└── README.md
```

**README.md** должен содержать:
- Как открыть проект.
- Какие команды выполнить для сборки.
- Минимальная версия Android.
- Что настроить на телефоне (разрешения).

---

**Приступать к написанию кода.**
